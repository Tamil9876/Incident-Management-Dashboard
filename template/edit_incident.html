{% extends "base.html" %}
{% block content %}
<div class="card shadow">
  <div class="card-header bg-warning">
    <h4>Edit Incident</h4>
  </div>
  <div class="card-body">
    <form method="post">
      {% csrf_token %}
      <div class="mb-3">
        <label>Date</label>
        <input type="date" name="date" value="{{ incident.date }}" class="form-control">
      </div>
      <div class="mb-3">
        <label>Last Maintenance Date</label>
        <input type="date" name="last_maintenance_date" value="{{ incident.last_maintenance_date }}" class="form-control">
      </div>
      <div class="mb-3">
        <label>Pressure</label>
        <input type="number" step="0.1" name="pressure" value="{{ incident.pressure }}" class="form-control">
      </div>
      <div class="mb-3">
        <label>Temperature</label>
        <input type="number" step="0.1" name="temperature" value="{{ incident.temperature }}" class="form-control">
      </div>
      <div class="mb-3">
        <label>Failure</label>
        <input type="text" name="failure" value="{{ incident.failure }}" class="form-control">
      </div>
      <div class="mb-3">
        <label>Risk</label>
        <select name="risk" class="form-select">
          <option value="Low" {% if incident.risk == "Low" %}selected{% endif %}>Low</option>
          <option value="High" {% if incident.risk == "High" %}selected{% endif %}>High</option>
        </select>
      </div>
      <div class="mb-3">
        <label>Actions</label>
        <textarea name="actions" class="form-control">{{ incident.actions }}</textarea>
      </div>
      <button type="submit" class="btn btn-primary">Save Changes</button>
      <a href="{% url 'incident_detail' incident.id %}" class="btn btn-secondary">Cancel</a>
    </form>
  </div>
</div>
{% endblock %}
